{% extends "base.html" %}
{% block title %}Sentence Review — Links{% endblock %}
{% block content %}
<h1 class="mb-3">Sentence Review — Links</h1>

<div class="alert alert-info">
  <strong>{{ total_sentences }}</strong> sentences across <strong>{{ total_links }}</strong> links.
  <div class="mt-2">
    <span class="badge bg-secondary">New: {{ status_counts.get('new',0) }}</span>
    <span class="badge bg-success">Reviewed: {{ status_counts.get('reviewed',0) }}</span>
    <span class="badge bg-warning text-dark">Rejected: {{ status_counts.get('rejected',0) }}</span>
  </div>
</div>

<p class="text-muted">Showing links {{ start }}–{{ end }} of {{ total_links }}, page {{ page }} / {{ total_pages }}</p>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Link</th>
      <th>Total</th>
      <th>New</th>
      <th>Reviewed</th>
      <th>Rejected</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
  {% for link in links %}
    <tr>
      <td style="width:40%;"><a href="{{ link.url }}" target="_blank">{{ link.url }}</a></td>
      <td>{{ link.total }}</td>
      <td><span class="badge bg-secondary">{{ link.new }}</span></td>
      <td><span class="badge bg-success">{{ link.reviewed }}</span></td>
      <td><span class="badge bg-warning text-dark">{{ link.rejected }}</span></td>
      <td><a class="btn btn-sm btn-primary" href="{{ url_for('view_link', link_id=link.id) }}">Review</a></td>
    </tr>
  {% endfor %}
  </tbody>
</table>

<nav>
  <ul class="pagination">
    {% if page > 1 %}
      <li class="page-item"><a class="page-link" href="{{ url_for('index') }}?page={{ page-1 }}">Previous</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Page {{ page }} / {{ total_pages }}</span></li>
    {% if page < total_pages %}
      <li class="page-item"><a class="page-link" href="{{ url_for('index') }}?page={{ page+1 }}">Next</a></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
